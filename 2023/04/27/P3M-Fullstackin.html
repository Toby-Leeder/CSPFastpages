<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="twitter:card" content="summary_large_image" /><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>P3 4/27 Big Idea 3 Data Structures | Toby-Leeder-CSPFastpages</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="P3 4/27 Big Idea 3 Data Structures" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Big Idea 3 with Databases and Data Operations" />
<meta property="og:description" content="Big Idea 3 with Databases and Data Operations" />
<link rel="canonical" href="https://toby-leeder.github.io/CSPFastpages/2023/04/27/P3M-Fullstackin.html" />
<meta property="og:url" content="https://toby-leeder.github.io/CSPFastpages/2023/04/27/P3M-Fullstackin.html" />
<meta property="og:site_name" content="Toby-Leeder-CSPFastpages" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2023-04-27T00:00:00-05:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="P3 4/27 Big Idea 3 Data Structures" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2023-04-27T00:00:00-05:00","datePublished":"2023-04-27T00:00:00-05:00","description":"Big Idea 3 with Databases and Data Operations","headline":"P3 4/27 Big Idea 3 Data Structures","mainEntityOfPage":{"@type":"WebPage","@id":"https://toby-leeder.github.io/CSPFastpages/2023/04/27/P3M-Fullstackin.html"},"url":"https://toby-leeder.github.io/CSPFastpages/2023/04/27/P3M-Fullstackin.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/CSPFastpages/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://toby-leeder.github.io/CSPFastpages/feed.xml" title="Toby-Leeder-CSPFastpages" /><link rel="shortcut icon" type="image/x-icon" href="/CSPFastpages/images/favicon.ico"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Primer/15.2.0/primer.css" integrity="sha512-xTz2ys4coGAOz8vuV1NcQBkgVmKhsSEtjbqyMJbBHRplFuvKIUo6xhLHpAyPt9mfR6twHJgn9OgVLuqOvjeBhg==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous" />

<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title") && (el.className != "emoji")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    });
</script>
</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/CSPFastpages/">Toby-Leeder-CSPFastpages</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/CSPFastpages/about/">About Me</a><a class="page-link" href="/CSPFastpages/lessonNotes">Lesson Notes</a><a class="page-link" href="/CSPFastpages/notes/">Notes</a><a class="page-link" href="/CSPFastpages/search/">Search</a><a class="page-link" href="/CSPFastpages/categories/">Tags</a><a class="page-link" href="/CSPFastpages/timeline/">Timeline</a><a class="page-link" href="/CSPFastpages/Vocab/">Vocabulary</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">P3 4/27 Big Idea 3 Data Structures</h1><p class="page-description">Big Idea 3 with Databases and Data Operations</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2023-04-27T00:00:00-05:00" itemprop="datePublished">
        2023-04-27 00:00:00 -0500
      </time>
       • <span class="read-time" title="Estimated read time">
    
    
      35 min read
    
</span></p>

    

    </header>

  <div class="post-content e-content" itemprop="articleBody">
    <ul id="toc" class="section-nav">
<li class="toc-entry toc-h3"><a href="#leaderboard-database">Leaderboard Database</a>
<ul>
<li class="toc-entry toc-h4"><a href="#what-is-a-database-model">What is a database model</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#creating-sqlalchemy-app">Creating SQLAlchemy App</a></li>
<li class="toc-entry toc-h3"><a href="#creating-database-template">Creating Database Template</a></li>
<li class="toc-entry toc-h3"><a href="#initialization-of-data">Initialization of Data</a></li>
<li class="toc-entry toc-h3"><a href="#do-these-for-this-section">DO THESE FOR THIS SECTION</a></li>
<li class="toc-entry toc-h2"><a href="#picture-database">Picture Database</a>
<ul>
<li class="toc-entry toc-h4"><a href="#popcorn-hacks">Popcorn Hacks</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#picture-encoding">Picture Encoding</a>
<ul>
<li class="toc-entry toc-h3"><a href="#popcorn-hack">Popcorn Hack:</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#endpoints">Endpoints</a>
<ul>
<li class="toc-entry toc-h3"><a href="#backend">Backend:</a></li>
<li class="toc-entry toc-h3"><a href="#methods-in-backend-example">Methods in Backend Example</a></li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#importing-library-dependencies">importing library dependencies</a></li>
<li class="toc-entry toc-h1"><a href="#setting-variables-used-to-store-future-data">setting variables used to store future data</a></li>
<li class="toc-entry toc-h1"><a href="#pre-made-function-created-to-search-for-usernames-allows-for-simplified-program">pre-made function created to search for usernames, allows for simplified program</a>
<ul>
<li class="toc-entry toc-h4"><a href="#post-method">POST Method</a></li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#post-method-1">POST method</a>
<ul>
<li class="toc-entry toc-h4"><a href="#put-method">PUT Method</a></li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#put-method-1">PUT method</a>
<ul>
<li class="toc-entry toc-h4"><a href="#delete-method">DELETE Method</a></li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#delete-method-1">DELETE method</a>
<ul>
<li class="toc-entry toc-h4"><a href="#displaying-the-full-database">Displaying the Full Database</a></li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#full-list-of-leaderboard">full list of leaderboard</a>
<ul>
<li class="toc-entry toc-h4"><a href="#popcorn-hacks-1">Popcorn Hacks</a></li>
<li class="toc-entry toc-h3"><a href="#frontend-and-how-it-communicates-to-backend">Frontend and How it Communicates to Backend</a>
<ul>
<li class="toc-entry toc-h4"><a href="#post-method-2">POST Method</a></li>
<li class="toc-entry toc-h4"><a href="#popcorn-hacks-2">Popcorn Hacks</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#time-and-space-complexity-of-algorithms">Time and Space Complexity of Algorithms</a>
<ul>
<li class="toc-entry toc-h3"><a href="#quicksort-algorithm">QuickSort Algorithm</a></li>
<li class="toc-entry toc-h3"><a href="#the-logic">The Logic</a>
<ul>
<li class="toc-entry toc-h4"><a href="#partition-procedure">Partition procedure</a></li>
<li class="toc-entry toc-h4"><a href="#qsort-procedure">qSort procedure</a></li>
<li class="toc-entry toc-h4"><a href="#complexity-analysis">Complexity analysis</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#popcorn-hack-1">Popcorn Hack</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#hacks---frontend-and-backend">Hacks - Frontend and Backend</a></li>
<li class="toc-entry toc-h2"><a href="#hacks---quicksort">Hacks - QuickSort</a></li>
<li class="toc-entry toc-h2"><a href="#hacks-helpers">Hacks Helpers</a></li>
<li class="toc-entry toc-h2"><a href="#points">Points</a></li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#hacks-are-due-saturday-429-1159-pm">HACKS ARE DUE SATURDAY (4/29) 11:59 PM</a></li>
</ul><h3 id="leaderboard-database">
<a class="anchor" href="#leaderboard-database" aria-hidden="true"><span class="octicon octicon-link"></span></a>Leaderboard Database</h3>
<blockquote>
  <p>How do you set up a database model?</p>
  <h4 id="what-is-a-database-model">
<a class="anchor" href="#what-is-a-database-model" aria-hidden="true"><span class="octicon octicon-link"></span></a>What is a database model</h4>
  <ul>
    <li>A database model shows the logical structure of a database</li>
    <li>It fundamentally determines in which manner data can be stored, organized, and manipulated</li>
    <li>Some popular database models are relational models, object oriented models, hierarchial models, flat file models, and network models</li>
    <li>The one below is an Object-Relational Model which is a combination of a relational model and an object oriented model</li>
  </ul>
</blockquote>

<h3 id="creating-sqlalchemy-app">
<a class="anchor" href="#creating-sqlalchemy-app" aria-hidden="true"><span class="octicon octicon-link"></span></a>Creating SQLAlchemy App</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span>
<span class="kn">from</span> <span class="nn">flask_sqlalchemy</span> <span class="kn">import</span> <span class="n">SQLAlchemy</span>

<span class="c1"># Setup of key Flask object (app)
</span><span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span>

<span class="c1"># Setup SQLAlchemy object and properties for the database (db)
</span><span class="n">app</span><span class="p">.</span><span class="n">config</span><span class="p">[</span><span class="s">'SQLALCHEMY_DATABASE_URI'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'sqlite:///sqlite.db'</span>
<span class="n">app</span><span class="p">.</span><span class="n">config</span><span class="p">[</span><span class="s">"SQLALCHEMY_TRACK_MODIFICATIONS"</span><span class="p">]</span> <span class="o">=</span> <span class="bp">False</span>
<span class="n">app</span><span class="p">.</span><span class="n">config</span><span class="p">[</span><span class="s">"SECRET_KEY"</span><span class="p">]</span> <span class="o">=</span> <span class="s">"SECRET_KEY"</span>
<span class="n">db</span> <span class="o">=</span> <span class="n">SQLAlchemy</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>

<span class="c1"># Images storage
</span><span class="n">app</span><span class="p">.</span><span class="n">config</span><span class="p">[</span><span class="s">"MAX_CONTENT_LENGTH"</span><span class="p">]</span> <span class="o">=</span> <span class="mi">5</span> <span class="o">*</span> <span class="mi">1024</span> <span class="o">*</span> <span class="mi">1024</span>  <span class="c1"># maximum size of uploaded content
</span><span class="n">app</span><span class="p">.</span><span class="n">config</span><span class="p">[</span><span class="s">"UPLOAD_EXTENSIONS"</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s">".jpg"</span><span class="p">,</span> <span class="s">".png"</span><span class="p">,</span> <span class="s">".gif"</span><span class="p">]</span>  <span class="c1"># supported file types
</span><span class="n">app</span><span class="p">.</span><span class="n">config</span><span class="p">[</span><span class="s">"UPLOAD_FOLDER"</span><span class="p">]</span> <span class="o">=</span> <span class="s">"volumes/uploads/"</span>  <span class="c1"># location of user uploaded content
</span>
</code></pre></div></div>

<h3 id="creating-database-template">
<a class="anchor" href="#creating-database-template" aria-hidden="true"><span class="octicon octicon-link"></span></a>Creating Database Template</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">Column</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="n">Text</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.exc</span> <span class="kn">import</span> <span class="n">IntegrityError</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">from</span> <span class="nn">werkzeug.security</span> <span class="kn">import</span> <span class="n">generate_password_hash</span><span class="p">,</span> <span class="n">check_password_hash</span>


<span class="c1"># 
# Leaderboard DB class that maps leaderboard SQL table 
#
</span><span class="k">class</span> <span class="nc">Leaderboard</span><span class="p">(</span><span class="n">db</span><span class="p">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s">"leaderboard"</span>

    <span class="c1"># 
</span>    <span class="c1"># Leaderboard DB columns for easy, medium and hard points with user info
</span>    <span class="c1">#    
</span>    <span class="nb">id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">_username</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="mi">255</span><span class="p">),</span> <span class="n">unique</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
    <span class="n">_password</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="mi">255</span><span class="p">),</span> <span class="n">nullable</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
    <span class="n">_pointsEasy</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
    <span class="n">_pointsMedium</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
    <span class="n">_pointsHard</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>

    <span class="c1"># 
</span>    <span class="c1"># Leaderboard DB class constructor 
</span>    <span class="c1">#
</span>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">pointsEasy</span><span class="p">,</span> <span class="n">pointsMedium</span><span class="p">,</span> <span class="n">pointsHard</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">_username</span> <span class="o">=</span> <span class="n">username</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">set_password</span><span class="p">(</span><span class="n">password</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">_pointsEasy</span> <span class="o">=</span> <span class="n">pointsEasy</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">_pointsMedium</span> <span class="o">=</span> <span class="n">pointsMedium</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">_pointsHard</span> <span class="o">=</span> <span class="n">pointsHard</span>

    <span class="c1"># 
</span>    <span class="c1"># Leaderboard DB class string representation of an object
</span>    <span class="c1">#
</span>    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s">"&lt;Leaderboard(id='%s', username='%s', pointsEasy='%s', pointsMedium='%s', pointsHard='%s')&gt;"</span> <span class="o">%</span> <span class="p">(</span>
            <span class="bp">self</span><span class="p">.</span><span class="nb">id</span><span class="p">,</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">username</span><span class="p">,</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">pointsEasy</span><span class="p">,</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">pointsMedium</span><span class="p">,</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">pointsHard</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="c1"># 
</span>    <span class="c1"># Returns Leaderboard username
</span>    <span class="c1">#    
</span>    <span class="o">@</span><span class="nb">property</span>
    <span class="k">def</span> <span class="nf">username</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="n">_username</span>

    <span class="c1"># 
</span>    <span class="c1"># Sets Leaderboard username
</span>    <span class="c1">#        
</span>    <span class="o">@</span><span class="n">username</span><span class="p">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">username</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">_username</span> <span class="o">=</span> <span class="n">value</span>

    <span class="c1"># 
</span>    <span class="c1"># checks Leaderboard username valid
</span>    <span class="c1">#            
</span>    <span class="k">def</span> <span class="nf">is_username</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">username</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="n">_username</span> <span class="o">==</span> <span class="n">username</span>

    <span class="c1"># 
</span>    <span class="c1"># Returns Leaderboard easy points
</span>    <span class="c1">#        
</span>    <span class="o">@</span><span class="nb">property</span>
    <span class="k">def</span> <span class="nf">pointsEasy</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="n">_pointsEasy</span>

    <span class="c1"># 
</span>    <span class="c1"># Sets Leaderboard easy points
</span>    <span class="c1">#        
</span>    <span class="o">@</span><span class="n">pointsEasy</span><span class="p">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">pointsEasy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">_pointsEasy</span> <span class="o">=</span> <span class="n">value</span>

    <span class="c1"># 
</span>    <span class="c1"># Sets Leaderboard medium points
</span>    <span class="c1">#            
</span>    <span class="o">@</span><span class="nb">property</span>
    <span class="k">def</span> <span class="nf">pointsMedium</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="n">_pointsMedium</span>

    <span class="c1"># 
</span>    <span class="c1"># Sets Leaderboard medium points
</span>    <span class="c1">#        
</span>    <span class="o">@</span><span class="n">pointsMedium</span><span class="p">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">pointsMedium</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">_pointsMedium</span> <span class="o">=</span> <span class="n">value</span>

    <span class="c1"># 
</span>    <span class="c1"># Returns Leaderboard hard points
</span>    <span class="c1">#            
</span>    <span class="o">@</span><span class="nb">property</span>
    <span class="k">def</span> <span class="nf">pointsHard</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="n">_pointsHard</span>

    <span class="c1"># 
</span>    <span class="c1"># Sets Leaderboard hard points
</span>    <span class="c1">#        
</span>    <span class="o">@</span><span class="n">pointsHard</span><span class="p">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">pointsHard</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">_pointsHard</span> <span class="o">=</span> <span class="n">value</span>

    <span class="c1"># 
</span>    <span class="c1"># Returns Leaderboard password
</span>    <span class="c1">#            
</span>    <span class="o">@</span><span class="nb">property</span>
    <span class="k">def</span> <span class="nf">password</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="n">_password</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">]</span> <span class="o">+</span> <span class="s">"..."</span>

    <span class="c1"># 
</span>    <span class="c1"># Sets Leaderboard password
</span>    <span class="c1">#        
</span>    <span class="k">def</span> <span class="nf">set_password</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">password</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">_password</span> <span class="o">=</span> <span class="n">generate_password_hash</span><span class="p">(</span><span class="n">password</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s">'sha512'</span><span class="p">)</span>

    <span class="c1"># 
</span>    <span class="c1"># Checks Leaderboard password validity
</span>    <span class="c1">#            
</span>    <span class="k">def</span> <span class="nf">is_password</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">password</span><span class="p">):</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">check_password_hash</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">_password</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">result</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">False</span>

    <span class="c1"># 
</span>    <span class="c1"># Converts Leaderboard to dictionary
</span>    <span class="c1">#            
</span>    <span class="k">def</span> <span class="nf">to_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="s">"id"</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="nb">id</span><span class="p">,</span> <span class="s">"username"</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="n">username</span><span class="p">,</span> <span class="s">"password"</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="n">password</span><span class="p">,</span> <span class="s">"pointsEasy"</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="n">_pointsEasy</span><span class="p">,</span> <span class="s">"pointsMedium"</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="n">_pointsMedium</span><span class="p">,</span> <span class="s">"pointsHard"</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="n">_pointsHard</span><span class="p">}</span>

    <span class="c1"># 
</span>    <span class="c1"># Converts Leaderboard to string values
</span>    <span class="c1">#                
</span>    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">read</span><span class="p">())</span>

    <span class="c1"># 
</span>    <span class="c1"># Creates Leaderboard database
</span>    <span class="c1">#                
</span>    <span class="k">def</span> <span class="nf">create</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">db</span><span class="p">.</span><span class="n">session</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
            <span class="n">db</span><span class="p">.</span><span class="n">session</span><span class="p">.</span><span class="n">commit</span><span class="p">()</span>
            <span class="k">return</span> <span class="bp">self</span>
        <span class="k">except</span> <span class="n">IntegrityError</span><span class="p">:</span>
            <span class="n">db</span><span class="p">.</span><span class="n">session</span><span class="p">.</span><span class="n">remove</span><span class="p">()</span>
            <span class="k">return</span> <span class="bp">None</span>
    <span class="c1"># 
</span>    <span class="c1"># Returns Leaderboard name value pairs
</span>    <span class="c1">#            
</span>    <span class="k">def</span> <span class="nf">read</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s">"id"</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="nb">id</span><span class="p">,</span>
            <span class="s">"username"</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="n">name</span><span class="p">,</span>
            <span class="s">"password"</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="n">uid</span><span class="p">,</span>
            <span class="s">"pointsEasy"</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="n">pointsEasy</span><span class="p">,</span>
            <span class="s">"pointsMedium"</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="n">pointsMedium</span><span class="p">,</span>
            <span class="s">"pointsHard"</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="n">pointsHard</span>
        <span class="p">}</span>

    <span class="c1"># 
</span>    <span class="c1"># Updates Leaderboard DB rows for points and user data
</span>    <span class="c1">#                
</span>    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">username</span><span class="o">=</span><span class="s">""</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">""</span><span class="p">,</span> <span class="n">pointsEasy</span><span class="o">=</span><span class="s">""</span><span class="p">,</span> <span class="n">pointsMedium</span><span class="o">=</span><span class="s">""</span><span class="p">,</span> <span class="n">pointsHard</span><span class="o">=</span><span class="s">""</span><span class="p">):</span>
        <span class="s">"""only updates values with length"""</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">username</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">username</span> <span class="o">=</span> <span class="n">username</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">pointsEasy</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">pointsEasy</span> <span class="o">=</span> <span class="n">pointsEasy</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">pointsMedium</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">pointsMedium</span> <span class="o">=</span> <span class="n">pointsMedium</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">pointsHard</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">pointsHard</span> <span class="o">=</span> <span class="n">pointsHard</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">password</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">set_password</span><span class="p">(</span><span class="n">password</span><span class="p">)</span>
        <span class="n">db</span><span class="p">.</span><span class="n">session</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">db</span><span class="p">.</span><span class="n">session</span><span class="p">.</span><span class="n">commit</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="c1"># 
</span>    <span class="c1"># Delets Leaderboard row from teh DB
</span>    <span class="c1">#                
</span>    <span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">db</span><span class="p">.</span><span class="n">session</span><span class="p">.</span><span class="n">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">db</span><span class="p">.</span><span class="n">session</span><span class="p">.</span><span class="n">commit</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">None</span>
</code></pre></div></div>

<h3 id="initialization-of-data">
<a class="anchor" href="#initialization-of-data" aria-hidden="true"><span class="octicon octicon-link"></span></a>Initialization of Data</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#
# Initializes Leaderboard DB with test data
#   
</span><span class="k">def</span> <span class="nf">init_leaderboards</span><span class="p">():</span>
    <span class="k">with</span> <span class="n">app</span><span class="p">.</span><span class="n">app_context</span><span class="p">():</span>
        <span class="s">"""Create database and tables"""</span>
        <span class="n">db</span><span class="p">.</span><span class="n">create_all</span><span class="p">()</span>
        <span class="s">"""Tester data for table"""</span>
        <span class="n">l1</span> <span class="o">=</span> <span class="n">Leaderboard</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">"bob"</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">"apple"</span><span class="p">,</span> <span class="n">pointsEasy</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">pointsMedium</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pointsHard</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
        <span class="n">l2</span> <span class="o">=</span> <span class="n">Leaderboard</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">"bobby"</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">"appley"</span><span class="p">,</span> <span class="n">pointsEasy</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">pointsMedium</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">pointsHard</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
        <span class="n">l3</span> <span class="o">=</span> <span class="n">Leaderboard</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">"bobbert"</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">"appled"</span><span class="p">,</span> <span class="n">pointsEasy</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">pointsMedium</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span> <span class="n">pointsHard</span><span class="o">=</span><span class="mi">300</span><span class="p">)</span>
        <span class="n">l4</span> <span class="o">=</span> <span class="n">Leaderboard</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">"bobruth"</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">"appler"</span><span class="p">,</span> <span class="n">pointsEasy</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">pointsMedium</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">pointsHard</span><span class="o">=</span><span class="mi">500</span><span class="p">)</span>
        <span class="n">leaderboards</span> <span class="o">=</span> <span class="p">[</span><span class="n">l1</span><span class="p">,</span> <span class="n">l2</span><span class="p">,</span> <span class="n">l3</span><span class="p">,</span> <span class="n">l4</span><span class="p">]</span>

        <span class="s">"""Builds sample user/note(s) data"""</span>
        <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">leaderboards</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="s">'''add user to table'''</span>
                <span class="nb">object</span> <span class="o">=</span> <span class="n">l</span><span class="p">.</span><span class="n">create</span><span class="p">()</span>
                <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"Created new uid </span><span class="si">{</span><span class="nb">object</span><span class="p">.</span><span class="n">username</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
                <span class="n">db</span><span class="p">.</span><span class="n">session</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>
                <span class="n">db</span><span class="p">.</span><span class="n">session</span><span class="p">.</span><span class="n">commit</span><span class="p">()</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="s">'''fails with bad or duplicate data'''</span>
                <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"Records exist uid </span><span class="si">{</span><span class="n">l</span><span class="p">.</span><span class="n">username</span><span class="si">}</span><span class="s">, or error."</span><span class="p">)</span>

<span class="n">init_leaderboards</span><span class="p">()</span>
</code></pre></div></div>

<h3 id="do-these-for-this-section">
<a class="anchor" href="#do-these-for-this-section" aria-hidden="true"><span class="octicon octicon-link"></span></a>DO THESE FOR THIS SECTION</h3>
<ul>
  <li>fill in the blanks</li>
  <li>add a new leaderboard, and edit the bobbert leaderboard; add proof with a screenshot of the sqlite.db</li>
  <li>add a new set of keys and values to the leaderboard; add proof with a screenshot of the sqlite.db</li>
</ul>

<h2 id="picture-database">
<a class="anchor" href="#picture-database" aria-hidden="true"><span class="octicon octicon-link"></span></a>Picture Database</h2>
<ul>
  <li><img src="https://user-images.githubusercontent.com/111910633/233181629-36a561c0-8ba5-4644-ac43-274c74a55dff.png" alt="image"></li>
  <li>Used CRUD methods which have create, read, update, and delete rows in the table.  There is a function called initEasyImages which populates the ‘Images’ table with data.</li>
  <li>The <strong>init</strong> method is used to create a new row in the table with a given imagePath, xCoord, yCoord, and difficulty. The <strong>repr</strong> method returns a string representation of the object when it is printed.</li>
  <li>The table has five columns: id, _imagePath, _xCoord, _yCoord, and _difficulty.
<img src="https://user-images.githubusercontent.com/111910633/233180602-c81c1931-85a4-4d8e-b738-a091eb803d60.png" alt="image">
</li>
  <li><img src="https://user-images.githubusercontent.com/111910633/233181071-4442d4c3-8c54-497f-b3bf-d625e6742c05.png" alt="image"></li>
  <li>This part of the code defines getter and setter methods for the columns in the Images model.  It sets and retrieves the metadata of the image.</li>
  <li><img src="https://user-images.githubusercontent.com/111910633/233181852-9daeed5a-6ab7-4d46-8069-8bcf390ea07a.png" alt="image"></li>
  <li>The initEasyImages function initializes the database with image metadata for easy difficulty images.</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">Column</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">LargeBinary</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.exc</span> <span class="kn">import</span> <span class="n">IntegrityError</span>
<span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>

<span class="k">class</span> <span class="nc">Images</span><span class="p">(</span><span class="n">db</span><span class="p">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s">'images'</span>
    <span class="nb">id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">_imagePath</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Text</span><span class="p">,</span> <span class="n">unique</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
    <span class="n">_xCoord</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
    <span class="n">_yCoord</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
    <span class="n">_difficulty</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>

    
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">imagePath</span><span class="p">,</span> <span class="n">xCoord</span><span class="p">,</span> <span class="n">yCoord</span><span class="p">,</span> <span class="n">difficulty</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">_imagePath</span> <span class="o">=</span> <span class="n">imagePath</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">xCoord</span> <span class="o">=</span> <span class="n">xCoord</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">yCoord</span> <span class="o">=</span> <span class="n">yCoord</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">difficulty</span> <span class="o">=</span> <span class="n">difficulty</span>

    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s">"&lt;image(id='%s', imagePath='%s', xCoord='%s', yCoord='%s', difficulty='%s')&gt;"</span> <span class="o">%</span> <span class="p">(</span>
            <span class="bp">self</span><span class="p">.</span><span class="nb">id</span><span class="p">,</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">imagePath</span><span class="p">,</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">xCoord</span><span class="p">,</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">yCoord</span><span class="p">,</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">difficulty</span>
        <span class="p">)</span>
    <span class="o">@</span><span class="nb">property</span>
    <span class="k">def</span> <span class="nf">imagePath</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="n">_imagePath</span>

    <span class="o">@</span><span class="n">imagePath</span><span class="p">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">imagePath</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">_imagePath</span> <span class="o">=</span> <span class="n">value</span>

    <span class="o">@</span><span class="nb">property</span>
    <span class="k">def</span> <span class="nf">xCoord</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="n">_xCoord</span>

    <span class="o">@</span><span class="n">xCoord</span><span class="p">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">xCoord</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">_xCoord</span> <span class="o">=</span> <span class="n">value</span>

    <span class="o">@</span><span class="nb">property</span>
    <span class="k">def</span> <span class="nf">yCoord</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="n">_yCoord</span>

    <span class="o">@</span><span class="n">yCoord</span><span class="p">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">yCoord</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">_yCoord</span> <span class="o">=</span> <span class="n">value</span>

    <span class="o">@</span><span class="nb">property</span>
    <span class="k">def</span> <span class="nf">difficulty</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="n">_difficulty</span>

    <span class="o">@</span><span class="n">difficulty</span><span class="p">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">difficulty</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">_difficulty</span> <span class="o">=</span> <span class="n">value</span>

    <span class="k">def</span> <span class="nf">to_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="s">"id"</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="nb">id</span><span class="p">,</span> <span class="s">"imagePath"</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="n">_imagePath</span><span class="p">,</span> <span class="s">"xCoord"</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="n">_xCoord</span><span class="p">,</span> <span class="s">"yCoord"</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="n">_yCoord</span><span class="p">,</span> <span class="s">"difficulty"</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="n">_difficulty</span><span class="p">}</span>

    <span class="k">def</span> <span class="nf">create</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># creates a person object from User(db.Model) class, passes initializers
</span>            <span class="n">db</span><span class="p">.</span><span class="n">session</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>  <span class="c1"># add prepares to persist person object to Users table
</span>            <span class="n">db</span><span class="p">.</span><span class="n">session</span><span class="p">.</span><span class="n">commit</span><span class="p">()</span>  <span class="c1"># SqlAlchemy "unit of work pattern" requires a manual commit
</span>            <span class="k">return</span> <span class="bp">self</span>
        <span class="k">except</span> <span class="n">IntegrityError</span><span class="p">:</span>
            <span class="n">db</span><span class="p">.</span><span class="n">session</span><span class="p">.</span><span class="n">remove</span><span class="p">()</span>
            <span class="k">return</span> <span class="bp">None</span>

    <span class="c1"># CRUD read converts self to dictionary
</span>    <span class="c1"># returns dictionary
</span>    <span class="k">def</span> <span class="nf">read</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s">"path"</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="n">imagePath</span><span class="p">,</span>
            <span class="s">"xCoord"</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="n">xCoord</span><span class="p">,</span>
            <span class="s">"yCoord"</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="n">yCoord</span><span class="p">,</span>
            <span class="s">"difficulty"</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="n">difficulty</span>
        <span class="p">}</span>

    <span class="c1"># CRUD update: updates user name, password, phone
</span>    <span class="c1"># returns self
</span>    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="s">""</span><span class="p">,</span> <span class="n">xCoord</span><span class="o">=</span><span class="s">""</span><span class="p">,</span> <span class="n">yCoord</span><span class="o">=</span><span class="s">""</span><span class="p">,</span> <span class="n">difficulty</span><span class="o">=</span><span class="s">""</span><span class="p">):</span>
        <span class="s">"""only updates values with length"""</span>
        <span class="n">xCoord</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">xCoord</span><span class="p">)</span>
        <span class="n">yCoord</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">yCoord</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">path</span><span class="p">:</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">imagePath</span> <span class="o">=</span> <span class="n">path</span>
        <span class="k">if</span> <span class="n">xCoord</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">xCoord</span> <span class="o">=</span> <span class="n">xCoord</span>
        <span class="k">if</span> <span class="n">yCoord</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">yCoord</span> <span class="o">=</span> <span class="n">yCoord</span>
        <span class="k">if</span> <span class="n">difficulty</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">difficulty</span> <span class="o">=</span> <span class="n">difficulty</span>
        <span class="n">db</span><span class="p">.</span><span class="n">session</span><span class="p">.</span><span class="n">commit</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span>


    <span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">db</span><span class="p">.</span><span class="n">session</span><span class="p">.</span><span class="n">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">db</span><span class="p">.</span><span class="n">session</span><span class="p">.</span><span class="n">commit</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">None</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">initEasyImages</span><span class="p">():</span>
    <span class="k">with</span> <span class="n">app</span><span class="p">.</span><span class="n">app_context</span><span class="p">():</span>
        <span class="n">db</span><span class="p">.</span><span class="n">create_all</span><span class="p">()</span>
        <span class="n">image_dir</span> <span class="o">=</span> <span class="n">Path</span><span class="p">.</span><span class="n">cwd</span><span class="p">()</span><span class="o">/</span><span class="s">"images/easy"</span>
        <span class="n">images_paths</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span><span class="p">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">image_dir</span><span class="p">.</span><span class="n">iterdir</span><span class="p">()]</span>
        <span class="n">images</span> <span class="o">=</span> <span class="p">[</span><span class="n">Images</span><span class="p">(</span><span class="s">"images/easy/"</span> <span class="o">+</span> <span class="n">image</span><span class="p">,</span> <span class="mi">250</span><span class="p">,</span> <span class="mi">250</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="k">for</span> <span class="n">image</span> <span class="ow">in</span> <span class="n">images_paths</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">image</span> <span class="ow">in</span> <span class="n">images</span><span class="p">:</span>
             <span class="k">try</span><span class="p">:</span>
                <span class="n">image</span><span class="p">.</span><span class="n">create</span><span class="p">()</span>
                <span class="k">print</span><span class="p">(</span><span class="s">"Successfully added entry"</span><span class="p">)</span>
             <span class="k">except</span><span class="p">:</span>
                 <span class="n">db</span><span class="p">.</span><span class="n">session</span><span class="p">.</span><span class="n">remove</span><span class="p">()</span>
                 <span class="k">print</span><span class="p">(</span><span class="s">"Error adding image: "</span><span class="p">,</span> <span class="n">image</span><span class="p">.</span><span class="n">imagePath</span><span class="p">)</span>

<span class="n">initEasyImages</span><span class="p">()</span>
</code></pre></div></div>

<h4 id="popcorn-hacks">
<a class="anchor" href="#popcorn-hacks" aria-hidden="true"><span class="octicon octicon-link"></span></a>Popcorn Hacks</h4>

<ul>
  <li>The init method initializes a new Images object with the following parameters: imagePath, xCoord, yCoord, and difficulty.</li>
  <li>In the Images class, the tablename attribute specifies the name of the table.</li>
  <li>The update method updates the values of the object’s attributes imagePath, xCoord, yCoord, and difficulty based on the input parameters, and then uses the db.session.commit method to commit the changes to the database.</li>
  <li>The db module used in this code is part of a larger library called SQLAlechemy, which provides a set of tools for working with databases in Python.</li>
</ul>

<!-- #region -->
<h2 id="picture-encoding">
<a class="anchor" href="#picture-encoding" aria-hidden="true"><span class="octicon octicon-link"></span></a>Picture Encoding</h2>

<p><strong>Essential Question: What are some methods that we could store and access images in the backend, and how can we send them to a frontend application?</strong></p>

<p>The image encoding process for this project is done within the endpoints created on our backend application. The overarching process is split into three seperate sub-processes, each handling a different level of game-difficulty. For this lesson, we will look at the easy images sub-process as our example.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">get_random_easy_image</span><span class="p">():</span>
    <span class="n">images</span> <span class="o">=</span> <span class="n">Images</span><span class="p">.</span><span class="n">query</span><span class="p">.</span><span class="n">filter_by</span><span class="p">(</span><span class="n">_difficulty</span><span class="o">=</span><span class="mi">0</span><span class="p">).</span><span class="nb">all</span><span class="p">()</span>
    <span class="n">image</span> <span class="o">=</span> <span class="n">random</span><span class="p">.</span><span class="n">choice</span><span class="p">(</span><span class="n">images</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">image</span>
</code></pre></div></div>

<p>This procedure is a void function that takes in no arguments directly, but does access the database via the <code class="language-plaintext highlighter-rouge">Images</code> object imported from the models that we created</p>

<p>The first line filters all database entries and searches for all image entries with the difficulty column set to 0, which we established as the identifying factor for easy images. The <code class="language-plaintext highlighter-rouge">.all()</code> method attached to the end of the query serves to return all matching image objects in a list called <code class="language-plaintext highlighter-rouge">image</code>.</p>

<p>The procedure finally returns a random image using the <code class="language-plaintext highlighter-rouge">random.choice</code> method.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">ImagesAPI</span><span class="p">:</span>
    <span class="k">class</span> <span class="nc">_EasyImages</span><span class="p">(</span><span class="n">Resource</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="n">image</span> <span class="o">=</span> <span class="n">get_random_easy_image</span><span class="p">()</span>
            <span class="n">json_data</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">if</span> <span class="n">image</span><span class="p">:</span>
                <span class="n">image_path</span> <span class="o">=</span> <span class="n">project_path</span> <span class="o">+</span> <span class="s">"/"</span> <span class="o">+</span> <span class="n">image</span><span class="p">.</span><span class="n">imagePath</span>
                <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">image_path</span><span class="p">,</span> <span class="s">"rb"</span><span class="p">)</span> <span class="k">as</span> <span class="n">image_file</span><span class="p">:</span>
                    <span class="n">json_data</span><span class="p">[</span><span class="s">"bytes"</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">base64</span><span class="p">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">image_file</span><span class="p">.</span><span class="n">read</span><span class="p">()))[</span><span class="mi">2</span><span class="p">:][:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">json_data</span><span class="p">[</span><span class="s">"xCoord"</span><span class="p">]</span> <span class="o">=</span> <span class="n">image</span><span class="p">.</span><span class="n">xCoord</span>
                <span class="n">json_data</span><span class="p">[</span><span class="s">"yCoord"</span><span class="p">]</span> <span class="o">=</span> <span class="n">image</span><span class="p">.</span><span class="n">yCoord</span>
            <span class="k">return</span> <span class="n">jsonify</span><span class="p">(</span><span class="n">json_data</span><span class="p">)</span>
</code></pre></div></div>

<p>If the first procedure locates and selects the image, the second procedure then encodes, formats, and returns the JSON data containing the image and its metadata.</p>

<p>The procedure first calls the <code class="language-plaintext highlighter-rouge">get_random_easy_image()</code> procedure created earlier to store our image object and also initializes an empty dictionary to store our json data.</p>

<p>If a valid image object is found, the procedure will attempt to create an absolute path to the image file on the computer running flask application. This is achieved by concatenating the absolute path of the working project directory to the relative image path stored in the database. The aboslute path of the directory is generated in our <em>namespace package</em> (__init__.py) in our <em>nighthawkguessr_api</em> package. The line calculating the project path is shown below, and uses the <code class="language-plaintext highlighter-rouge">Path</code> object from the <code class="language-plaintext highlighter-rouge">pathlib</code> library.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">project_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">.</span><span class="n">cwd</span><span class="p">().</span><span class="n">as_posix</span><span class="p">()</span>
</code></pre></div></div>

<p>After creating the image path, the procedure attempts to open the image file, and procedes to use the <code class="language-plaintext highlighter-rouge">base64.b64encode</code> method to encode the image file bytes into base64 data. This is convinient for us as HTML on the frontend pages allows us to render images with base64 bytes (Not sure about normal image bytes). The base64 bytes are then encoded into a python literal string in order to be jsonified and displayed on the api endpoint. The <code class="language-plaintext highlighter-rouge">[2:][:-1]</code> appended to the end is a type of string slicing which removes the <strong>b’</strong> generated at the start of the data and the <strong>‘</strong> generated at the end of the data. These extraneous characters are used to indicate a base64 string, and are not part of the original data.</p>

<p>The procedure finally appends the metadata (position of the right coordinates on the map) to the <code class="language-plaintext highlighter-rouge">json_data</code> dictionary, completing the process.</p>

<p>Finally, the procedure returns the JSONified data, which is accessible from our API. As you can see, the images we process are extremely large and possess high resolution (typically a few megabytes!)
<img src="https://user-images.githubusercontent.com/111480448/234923845-98d21dea-ad65-48db-bae5-30819fb1f98b.png" alt='"API endpoint"'></p>

<h3 id="popcorn-hack">
<a class="anchor" href="#popcorn-hack" aria-hidden="true"><span class="octicon octicon-link"></span></a>Popcorn Hack:</h3>
<blockquote>
  <p>Please write a few sentences answering the essential question, “What are some methods that we could store and access images in the backend, and how can we send them to a frontend application?”</p>
</blockquote>

<ul>
  <li>Some methods to store images in the backend are by literally storing that file in the backend. Then when we want to send them to the frontend we can encode the data into something like base64 and then send that to the frontend. If you wanted to, you could also store the images already as base64 in the backend. Then you would just need to send the string in order to send that to the frontend. 
<!-- #endregion -->
</li>
</ul>

<h2 id="endpoints">
<a class="anchor" href="#endpoints" aria-hidden="true"><span class="octicon octicon-link"></span></a>Endpoints</h2>

<blockquote>
  <p>What are endpoints and how do we use them to transfer data from one part of the internet to another?</p>
</blockquote>

<h3 id="backend">
<a class="anchor" href="#backend" aria-hidden="true"><span class="octicon octicon-link"></span></a>Backend:</h3>

<ul>
  <li>The backend creates endpoints that are used to edit the properties of the database constructed by the model.</li>
  <li>
<code class="language-plaintext highlighter-rouge">GET</code>, <code class="language-plaintext highlighter-rouge">POST</code>, <code class="language-plaintext highlighter-rouge">PUT</code>, and <code class="language-plaintext highlighter-rouge">DELETE</code> methods are used in order to define HTTP endpoints in the API.
    <ul>
      <li>These endpoints are based on requests that can be made to manipulate the database.</li>
      <li>Variables defined in the model file are used to call data from the database in order to be manipulated.</li>
    </ul>
  </li>
</ul>

<h3 id="methods-in-backend-example">
<a class="anchor" href="#methods-in-backend-example" aria-hidden="true"><span class="octicon octicon-link"></span></a>Methods in Backend Example</h3>

<ul>
  <li>Modules are being imported with specified classes which are used later in the program.
    <ul>
      <li>
<code class="language-plaintext highlighter-rouge">Blueprint</code>: used to organize routes and functions</li>
      <li>
<code class="language-plaintext highlighter-rouge">request</code>: used to access data sent to the Flask app. through the HTTP request</li>
      <li>
<code class="language-plaintext highlighter-rouge">Api</code>: creates a Flask instance that handles requests</li>
      <li>
<code class="language-plaintext highlighter-rouge">Resource</code>: this allows for the definition of custom HTTP requests</li>
      <li>
<code class="language-plaintext highlighter-rouge">reqparse</code>: used to parse (sort and search) and validate data that is requested</li>
    </ul>
  </li>
  <li>The blueprint and api are then defined as variables and are used to store any future data that is requested.</li>
  <li>Some preliminary functions, such as <code class="language-plaintext highlighter-rouge">find_by_username</code>, are created to be used later in the API code, allowing for simpler code.
    <ul>
      <li>In this case, these functions are used to search through the database to find specific usernames.</li>
    </ul>
  </li>
</ul>

<p>```python vscode={“languageId”: “javascript”}</p>
<h1 id="importing-library-dependencies">
<a class="anchor" href="#importing-library-dependencies" aria-hidden="true"><span class="octicon octicon-link"></span></a>importing library dependencies</h1>
<p>from flask import Blueprint, request
from flask_restful import Api, Resource, reqparse</p>

<h1 id="setting-variables-used-to-store-future-data">
<a class="anchor" href="#setting-variables-used-to-store-future-data" aria-hidden="true"><span class="octicon octicon-link"></span></a>setting variables used to store future data</h1>
<p>leaderboard_bp = Blueprint(“leaderboards”, <strong>name</strong>)
leaderboard_api = Api(leaderboard_bp)</p>

<h1 id="pre-made-function-created-to-search-for-usernames-allows-for-simplified-program">
<a class="anchor" href="#pre-made-function-created-to-search-for-usernames-allows-for-simplified-program" aria-hidden="true"><span class="octicon octicon-link"></span></a>pre-made function created to search for usernames, allows for simplified program</h1>
<p>def find_by_username(username):
    users = Leaderboard.query.filter_by(_username=username).all()
    return users[0]</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
#### GET Method

- This method is used to fetch specific data points from the database by searching through the usernames.
- This will be different for each type of database being made, however the general format stays the same.
  - Since this is a text database, to pull specific information from the database, the API will query through the data using the username, which is unique.
  - The function defined previously, `find_by_username()`, is used to search through the database and pull the specific data point that is being searched.
  - If the user exists, the data of that user will be returned, being sent to the frontend of the program.
  - If a user isn't found, an error will be returned that the user does not exist.
&lt;br&gt;
&lt;br&gt;
- In general, the program will always be searching for a piece of information that is unique and that will be used to pull data to wherever it is being requested.

```python vscode={"languageId": "javascript"}
# GET method
def get(self):
        # requested username turned into variable for later use
        username = request.get_json().get("username")
        print(username, "uid")
        # username used to search for data and the found data is made into a variable
        user = find_by_username(username)
        if user:
            # data is sent to the frontend
            return user.to_dict()
        # error checking
        return {"message": user}, 404
</code></pre></div></div>

<h4 id="post-method">
<a class="anchor" href="#post-method" aria-hidden="true"><span class="octicon octicon-link"></span></a>POST Method</h4>

<ul>
  <li>This method is used to add a specific piece of information in the database based on searching by usernames.</li>
  <li>This is again different for each database that is made, however the general structure stays the same.
    <ul>
      <li>In this example, a parser is being used to extract data from an incoming request. In this case, the <code class="language-plaintext highlighter-rouge">RequestParser</code> class is used from the Flask module.
        <ul>
          <li>All required arguments are added to the parser, specifying what type of data it is.</li>
          <li>The <code class="language-plaintext highlighter-rouge">args</code> variable is added in order to parse and store all incoming data.</li>
        </ul>
      </li>
      <li>The variable <code class="language-plaintext highlighter-rouge">leaderboard</code> is created to make a new object that will contain the values from the incoming data.</li>
      <li>The function will attempt to add a new entry in the leaderboard database and return a status of a successful addition of the data.</li>
      <li>If there is an error in the data being inputted, a status code of 500 will be returned.</li>
    </ul>
  </li>
</ul>

<p>```python vscode={“languageId”: “javascript”}</p>
<h1 id="post-method-1">
<a class="anchor" href="#post-method-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>POST method</h1>
<p>def post(self):
        # using parsers to gather and data that is to be posted and validate it’s true
        parser = reqparse.RequestParser()
        parser.add_argument(“username”, required=True, type=str)
        parser.add_argument(“password”, required=True, type=str)
        parser.add_argument(“pointsEasy”, required=True, type=int)
        parser.add_argument(“pointsMedium”, required=True, type=int)
        parser.add_argument(“pointsHard”, required=True, type=int)
        # variable made to store data
        args = parser.parse_args()</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    # variable created to format all data into one place and send to database for logging
    leaderboard = Leaderboard(args["username"], args["password"],
                              args["pointsEasy"], args["pointsMedium"], args["pointsHard"])
    try:
        # data is sent to the database for storage
        db.session.add(leaderboard)
        db.session.commit()
        return leaderboard.to_dict(), 201
    except Exception as e:
        # error checking
        db.session.rollback()
        return {"message": f"server error: {e}"}, 500 ```
</code></pre></div></div>

<h4 id="put-method">
<a class="anchor" href="#put-method" aria-hidden="true"><span class="octicon octicon-link"></span></a>PUT Method</h4>

<ul>
  <li>This method is used to update a specific piece of information in the database based on searching by usernames.</li>
  <li>For each data base that is made, there will be different specific but the overall structure stays the same.
    <ul>
      <li>First, the <code class="language-plaintext highlighter-rouge">username</code> variable is defined, which retrives the requested username and sets it as a variable that will be used later to edit a specific dataset.</li>
      <li>The function <code class="language-plaintext highlighter-rouge">find_by_username()</code> is again used to search through the data to look for the username requested. This is set to a variable to be used later.</li>
      <li>If the username is found in the database, the rest of the dataset is updated with the new values requested. This is updated into the database.</li>
      <li>If there is an error found with the data requested of it the user isn’t found, an error is returned.</li>
    </ul>
  </li>
</ul>

<p>```python vscode={“languageId”: “javascript”}</p>
<h1 id="put-method-1">
<a class="anchor" href="#put-method-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>PUT method</h1>
<p>def put(self):
        # variable created to make requested username into something that can be used to search for data in future
        username = request.get_json().get(“username”)
        print(username, “uid”)</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    try:
        # attempts to find the data in the database
        user = find_by_username(username)
        if user:
            # if the data is found, the data points are updates
            user.pointsEasy = int(request.get_json().get("pointsEasy"))
            user.pointsMedium = int(request.get_json().get("pointsMedium"))
            user.pointsHard = int(request.get_json().get("pointsHard"))
            db.session.commit()
            return user.to_dict(), 201
        else:
            # if user not found, error is returned
            return {"message": "leaderboard not found"}, 404
    except Exception as e:
        # checks for errors in request
        db.session.rollback()
        return {"message": f"server error: {e}"}, 500 ```
</code></pre></div></div>

<h4 id="delete-method">
<a class="anchor" href="#delete-method" aria-hidden="true"><span class="octicon octicon-link"></span></a>DELETE Method</h4>

<ul>
  <li>This method is used to delete a specific information from the database, again searching by username.</li>
  <li>The overall structure stays the same between different databases, but the specific variables will need to be changed to personalize the database.
    <ul>
      <li>A variable for the username is created in order to search for for the user name requested later in the code with the function <code class="language-plaintext highlighter-rouge">find_by_username()</code>.</li>
      <li>If the user is found, the user is deleted, along with that user’s data and the change is saved to the database.</li>
      <li>If the user isn’t found or if an error is found with the data requested, an error is returned.</li>
    </ul>
  </li>
</ul>

<p>```python vscode={“languageId”: “javascript”}</p>
<h1 id="delete-method-1">
<a class="anchor" href="#delete-method-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>DELETE method</h1>
<p>def delete(self):
        # username variable defined to store requested value
        username = request.get_json().get(“username”)
        print(username, “uid”)</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    try:
        # finds the username and stores data in variable
        user = find_by_username(username)
        if user:
            # if the user is found, the user and their data is deleted
            db.session.delete(user)
            db.session.commit()
            return user.to_dict()
        else:
            # if user not found, error is returned
            return {"message": "leaderboard not found"}, 404
    except Exception as e:
        # error checking for request error
        db.session.rollback()
        return {"message": f"server error: {e}"}, 500 ```
</code></pre></div></div>

<h4 id="displaying-the-full-database">
<a class="anchor" href="#displaying-the-full-database" aria-hidden="true"><span class="octicon octicon-link"></span></a>Displaying the Full Database</h4>

<ul>
  <li>Another class is created in order to display the entire database at once and also to delete the entire database if necessary.</li>
  <li>This uses the same functions as before to GET and DELETE the data, however it is modified slightly to look through the entire database abd display or delete all data points.</li>
  <li>An example of where this would be useful is to create a table of data in the frontend.</li>
</ul>

<p>```python vscode={“languageId”: “javascript”}</p>
<h1 id="full-list-of-leaderboard">
<a class="anchor" href="#full-list-of-leaderboard" aria-hidden="true"><span class="octicon octicon-link"></span></a>full list of leaderboard</h1>
<p>class LeaderboardListAPI(Resource):
    # GET method
    def get(self):
        try:
            # attempts to find the entire database requested and is stored in variable
            leaderboards = db.session.query(Leaderboard).all()
            # sends back the entire database
            return [leaderboard.to_dict() for leaderboard in leaderboards]
        except Exception as e:
            # error checking for request errors
            db.session.rollback()
            return {“message”: f”server error: {e}”}, 500</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># DELETE method
def delete(self):
    try:
        # deletes entire database
        db.session.query(Leaderboard).delete()
        db.session.commit()
        return []
    except Exception as e:
        # checks for errors in request
        db.session.rollback()
        return {"message": f"server error: {e}"}, 500 ```
</code></pre></div></div>

<h4 id="popcorn-hacks-1">
<a class="anchor" href="#popcorn-hacks-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Popcorn Hacks</h4>

<p>Please answer these questions to earn points for the popcorn hacks.</p>

<ol>
  <li>What are the four HTTP request methods that are used with Flask?
GET, POST, PUT, and DELETE.</li>
  <li>What is a parser and how would it be aid with data validation?
A parser parses through the request to the database. This helps in understanding a request</li>
  <li>What is the role endpoints in Flask?</li>
</ol>

<h3 id="frontend-and-how-it-communicates-to-backend">
<a class="anchor" href="#frontend-and-how-it-communicates-to-backend" aria-hidden="true"><span class="octicon octicon-link"></span></a>Frontend and How it Communicates to Backend</h3>

<blockquote>
  <p>This first part of the frontend logic simply finds out of the site is running locally or not, off of which is figures out whether or not to pull data from the local backend link or the global backend link. In this example, a global backend link hasn’t been sent, however it would go in the second set of quotations after the local address. This isn’t something you need to know, but it is nice to use when developing full stack applications.</p>
</blockquote>

<p>```python vscode={“languageId”: “javascript”}
// checks if site is run locally
const isLocalhost = Boolean(
  window.location.hostname === “localhost” ||
  window.location.hostname === “[::1]” ||
  window.location.hostname.match(/^127(?:.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)
)
// defines database url
const api = isLocalhost ? “http://localhost:8200” : “”;</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
#### GET Method

- This method is more complicated in terms of requesting, simply because in order to, for example, print all data points into a table, the function needs to iterate through the entire database.
- In this example, the function `getList()` is used to asynchronously fetch the entire database and set it to a variable called `list`.
  - The list is returned for later use outside of this function in order to print the data.

##### Printing the Data

- In order to print the data, the function `getList()` is run and once it is run, it iterates through the data to pull out each individual data point and enter it into the function used to make the table.
  - For each class in the database, which is each row in the database, the variables corresponding to that specific class are pulled and inserted into the `addTask()` function as parameters to create the table of users.
- The function `addTask()` is used to create the visual table that the user sees.
  - A row is created and for each table cell in that row, the data is added by iterating through the array of variables that are parameters pulled directly from the database.
  - A new row is added into table for each new class of information pulled from the database.

```python vscode={"languageId": "javascript"}
// fetches entire database
const getList = async () =&gt; {
  // stores it in variable list
  const list = await fetch(api + "/leaderboardList").then((r) =&gt; r.json());
  return list
};

// goes through entire database and pulls each individual class
getList().then(list =&gt; {
  // for each class (row), data is pulled and added into addTask() function to be put in visual table
  list.forEach(cls =&gt; {
    addTask(cls.username, cls.pointsEasy, cls.pointsMedium, cls.pointsHard)
  })
})

// adds visual representation of data in table
function addTask(username, pointsEasy, pointsMedium, pointsHard) {

  // array of variables defining data points
  var tableCells = [username, pointsEasy, pointsMedium, pointsHard]
  // creates new row in variable
  var row = document.createElement('tr')
  // goes through entire data set and places data into cells
  for (var i = 0; i &lt; tableCells.length; i++) {
    var tableCell = document.createElement('th')
    tableCell.textContent = tableCells[i]
    tableCell.className = 'cell'
    row.appendChild(tableCell)
  }
  // creates new row as child of schedule element
  schedule.appendChild(row)
}
</code></pre></div></div>

<h4 id="post-method-2">
<a class="anchor" href="#post-method-2" aria-hidden="true"><span class="octicon octicon-link"></span></a>POST Method</h4>

<ul>
  <li>This method is used to push data to the backend using the HTTP POST method.
    <ul>
      <li>The function <code class="language-plaintext highlighter-rouge">addData</code> is defined with the parameters that are going to be pushed into the backend.</li>
      <li>An object is created to define the variables that are going to be pushed into the backend. This is basically the JSON string that will be sent to the backend to get decoded and inserted into the database.</li>
      <li>The <code class="language-plaintext highlighter-rouge">fetch()</code> function is called with the <code class="language-plaintext highlighter-rouge">api</code> variable, which is a variable representing the url for the backend API, and the extension specific to where the data will be posted, in this case being <code class="language-plaintext highlighter-rouge">/leaderboard</code>.
        <ul>
          <li>The method, headers, and body of the data are defined in order to complete a successful HTTP request to the backend. The object <code class="language-plaintext highlighter-rouge">data</code> which was created earlier, is converted to a JSON string here and sent to the backend.</li>
        </ul>
      </li>
      <li>If an error is detected, it is returned and the request will fail.</li>
    </ul>
  </li>
</ul>

<p>```python vscode={“languageId”: “javascript”}
// calls addData function
function addData(username, password, pointsEasy, pointsMedium, pointsHard){</p>

<p>// creates object defining the variables that will be added to the backend, corresponding with the backend variables
let data = {
  “username”: username,
  “password”: password,
  “pointsEasy”: pointsEasy,
  “pointsMedium”: pointsMedium,
  “pointsHard”: pointsHard
}</p>

<p>// POST method called
fetch(api + ‘/leaderboard’, {
  method: ‘POST’,
  headers: {
    ‘Content-Type’: ‘application/json’,
  },
  body: JSON.stringify(data),
})
  // error checking
  .then((response) =&gt; response.json())
  .catch((error) =&gt; {
    console.error(‘Error:’, error);
  });
}</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
#### PUT and DELETE Methods

- These two methods are almost identical to the POST method above in the way they work, the only difference being that the method requested is different. The name of the function defined is also changes, in this case being `editData()` and `deleteData()`.

```python vscode={"languageId": "javascript"}
// editing function defined
function editData(username, password, pointsEasy, pointsMedium, pointsHard){

  // has object with variables that are required in backend
  let data = {
    "username": username,
    "password": password,
    "pointsEasy": pointsEasy,
    "pointsMedium": pointsMedium,
    "pointsHard": pointsHard
  }
  
  // PUT method called
  fetch(api + '/leaderboard', {
    method: 'PUT',
    headers: {
      'Content-Type': 'application/json',
    },
    body: JSON.stringify(data),
  })
    // error checking
    .then((response) =&gt; response.json())
    .catch((error) =&gt; {
      console.error('Error:', error);
    });
  }
</code></pre></div></div>

<p>```python vscode={“languageId”: “javascript”}
// deleting function defined
function deleteData(username, password, pointsEasy, pointsMedium, pointsHard){</p>

<p>// object defined with variables that are same as backend
  let data = {
    “username”: username,
    “password”: password,
    “pointsEasy”: pointsEasy,
    “pointsMedium”: pointsMedium,
    “pointsHard”: pointsHard
  }</p>

<p>// DELETE method called
  fetch(api + ‘/leaderboard’, {
    method: ‘DELETE’,
    headers: {
      ‘Content-Type’: ‘application/json’,
    },
    body: JSON.stringify(data),
  })
    // error checking
    .then((response) =&gt; response.json())
    .catch((error) =&gt; {
      console.error(‘Error:’, error);
    });
  }</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
### Calling Images (GET Method)

- The process for calling images is basically the same as anything else, except you need to be able to reconstruct the images based on the base64 that is requested from the backend.
- In this case, the image in the api is being called to the frontend and is returned as the variable `list`.
  - This is then inserted directly into the html by getting the element that needs to be edited and styling with css by using the built-in function `data:image/png;base64, ` which translated from bytes to pixel.

```python vscode={"languageId": "javascript"}
// GET method calling info from backend url
const getList = async () =&gt; {
  const list = await fetch(api + "/api/images/GetEasyImage").then((r) =&gt; r.json());
  return list
};

// inserting image into frontend
getList().then(list =&gt; {
  document.getElementsByTagName("body")[0].style = "background-image: url('data:image/png;base64, " + list.bytes +"');"
})
</code></pre></div></div>

<h4 id="popcorn-hacks-2">
<a class="anchor" href="#popcorn-hacks-2" aria-hidden="true"><span class="octicon octicon-link"></span></a>Popcorn Hacks</h4>

<p>Please answer these questions to earn points for the popcorn hacks.</p>

<ol>
  <li>How is data for images stored in a Flask API and how is it displayed on the frontend when requested?
Data for images is stored as the raw image file in the backend. It is then encoded to base 64 and sent to the frontend where it is just displayed as base 64</li>
  <li>What is the <code class="language-plaintext highlighter-rouge">fetch()</code> function and how is it used in frontend logic? 
fetch() is how you interact with the backend. You send a fetch() request with the method you wish to use and a body you wish to pass through. Then the function on the backend is run and a response is returned to the fetch.</li>
  <li>How is data formatted and sent to the backend? (mention JSON in your answer)
Data is formatted as a JSON when sent to and from the backend. This is a standard format for most of programming that uses a combination of lists and dictionaries to create objects that are easy to parse.</li>
</ol>

<!-- #region -->
<h2 id="time-and-space-complexity-of-algorithms">
<a class="anchor" href="#time-and-space-complexity-of-algorithms" aria-hidden="true"><span class="octicon octicon-link"></span></a>Time and Space Complexity of Algorithms</h2>
<p>The lesson for time and space complexity of algorithms will consist of demonstrations of sorting algorithms and the different time complexities that they come with on a small scale. This can be acomplished using things such as a deck of cards or even with actual people. An example of how this will work is laying out the cards in a random order on the table, and demonstrating different ways of sorting it. From methods such as bubble sort to methods such as bogo sort, it will be really easy to see exactly how much time it would take for these different sorting algoritms to complete. Then after that, it is easy to understand the concept of time complexity when given a real world example.</p>

<p>Space complexity can be demonstrated by using the same method, however, adding in the extra step of having the cards in a pile. This will show how much space is needed to complete the sorting algorithm. This will easily reveal the concept of space complexity because it allows people to witness a real world, physical example of the concept, turning a really hard to grasp concept into something that is easy to understand.</p>

<p>Additionally, we are also going to analyze certain algorithms within our project to show how such analysis is applicable to real world projects.</p>

<p><strong>Essential Question: What is the quicksort algorithm, and how does it work? How does it’s time and space complexities scale with input sizes?</strong></p>
<h3 id="quicksort-algorithm">
<a class="anchor" href="#quicksort-algorithm" aria-hidden="true"><span class="octicon octicon-link"></span></a>QuickSort Algorithm</h3>
<p>The main algorithm we’ve employed is an recursive implementation of quickSort in the backend to sort the database entries to obtain the user with the highest overall score. Typically this algorithm is implemented to sort in ascending order, but to make it easier to extract the top 10 users, we sill be modifying the algorithm to sort in descending order (so the top players show up first in the list).</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">LeaderboardTop10</span><span class="p">(</span><span class="n">Resource</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">partition</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arr</span><span class="p">,</span> <span class="n">lo</span><span class="p">,</span> <span class="n">hi</span><span class="p">):</span>
        <span class="n">pivot</span> <span class="o">=</span> <span class="n">arr</span><span class="p">[</span><span class="n">hi</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>                                              <span class="c1"># Pivot value set to the 2nd index of the last element
</span>        <span class="n">pivot_pos</span> <span class="o">=</span> <span class="n">hi</span> <span class="o">-</span> <span class="mi">1</span>                                              <span class="c1"># Set our base pivot position, ensure that lower picoit index == lo
</span>        <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">lo</span><span class="p">,</span> <span class="n">hi</span><span class="p">):</span>                                       <span class="c1"># Iterate over all elements in the partition array
</span>            <span class="k">if</span> <span class="n">arr</span><span class="p">[</span><span class="n">idx</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">pivot</span><span class="p">:</span>                                    <span class="c1"># Found an element creater than pivot
</span>                <span class="n">pivot_pos</span><span class="o">+=</span><span class="mi">1</span>                                            <span class="c1"># Increment correct position for pivot
</span>                <span class="n">arr</span><span class="p">[</span><span class="n">pivot_pos</span><span class="p">],</span> <span class="n">arr</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="o">=</span> <span class="n">arr</span><span class="p">[</span><span class="n">idx</span><span class="p">],</span> <span class="n">arr</span><span class="p">[</span><span class="n">pivot_pos</span><span class="p">]</span>     <span class="c1"># Swap the larger element with the element at the current pivot position
</span>        <span class="n">arr</span><span class="p">[</span><span class="n">pivot_pos</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">arr</span><span class="p">[</span><span class="n">hi</span><span class="p">]</span> <span class="o">=</span> <span class="n">arr</span><span class="p">[</span><span class="n">hi</span><span class="p">],</span> <span class="n">arr</span><span class="p">[</span><span class="n">pivot_pos</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span>       <span class="c1"># Swap element at pivot position with the pivot element
</span>        <span class="k">return</span> <span class="n">pivot_pos</span><span class="o">+</span><span class="mi">1</span>                                              <span class="c1"># Return index of pivot element
</span>    
    <span class="k">def</span> <span class="nf">qSortUserList</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arr</span><span class="p">,</span> <span class="n">lo</span><span class="p">,</span> <span class="n">hi</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">lo</span> <span class="o">&lt;</span> <span class="n">hi</span><span class="p">:</span>
            <span class="n">last_pivot</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">partition</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">lo</span><span class="p">,</span> <span class="n">hi</span><span class="p">)</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">qSortUserList</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">lo</span><span class="p">,</span> <span class="n">last_pivot</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">qSortUserList</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">last_pivot</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">hi</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">users_list</span> <span class="o">=</span> <span class="n">get_user_list</span><span class="p">()</span>
        <span class="n">top10</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">qSortUserList</span><span class="p">(</span><span class="n">users_list</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">users_list</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">user</span> <span class="ow">in</span> <span class="n">users_list</span><span class="p">:</span>
            <span class="n">top10</span><span class="p">[</span><span class="n">user</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">=</span> <span class="n">user</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">print</span><span class="p">(</span><span class="n">top10</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">top10</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">10</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">top10</span>
        <span class="k">return</span> <span class="n">top10</span><span class="p">[:</span><span class="mi">10</span><span class="p">]</span>
</code></pre></div></div>

<p>To understand how the algorithm first, we must first familiarize ourselves with the process.</p>
<ol>
  <li>Our backend grabs all users from our leaderboard</li>
  <li>Returns all users and their scores in a 2-D array, each element is a list of length two that contains the username and cumulative score of the player</li>
  <li>The sorting algorithm will use the second element representing the user score to sort the array of users.
    <div class="language-plaintext highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>┌─────────────────────┐               ┌──────────────────┐              ┌─────────────────┐  
│                     │               │                  │              │                 │  
│                     │               │      Split       │              │    display      │  
│      Database       │               │       the        ├──────────────►    sorted list  │  
│                     │               │    List into     │              │    on endpoint  │  
│                     │               │   top 10 users   │              │                 │  
└──────────┬──────────┘               └─────────▲────────┘              └─────────────────┘  
        │                                    │  
        │                                    │  
        │                                    │  
        │                                    │  
┌──────────▼──────────┐               ┌─────────┴────────┐  
│                     │               │                  │  
│   2-D User  Array   │               │    QuickSort     │  
│                     ├───────────────►                  │  
│ [(username, score)] │               │    Algorithm     │  
│                     │               │                  │  
└─────────────────────┘               └──────────────────┘  
</code></pre></div>    </div>
    <p>Our quickSort algorithm consists of 2 procedures, a <code class="language-plaintext highlighter-rouge">partition()</code> procedure that <strong>pivots</strong> and sorts individual elements, and a <code class="language-plaintext highlighter-rouge">qSortUserList()</code> that performs recursion which finishes the sorting.</p>
  </li>
</ol>

<h3 id="the-logic">
<a class="anchor" href="#the-logic" aria-hidden="true"><span class="octicon octicon-link"></span></a>The Logic</h3>
<p>The partition procedure will serve to “partition” our list into 2 parts, a smaller portion and a larger portion around a certain pivot value (Note: These portions don’t have to sorted yet!).</p>

<h4 id="partition-procedure">
<a class="anchor" href="#partition-procedure" aria-hidden="true"><span class="octicon octicon-link"></span></a>Partition procedure</h4>
<p>First, partition selects a certain element in a list to be a pivot. This pivot value will be used to make comparisons to every other value in the array. For simplicity, we have selected our pivot element as the last element in the unsorted list. The procedure defines a <code class="language-plaintext highlighter-rouge">pivot_pos</code> variable to denote the correct position of the pivot index after each iteration. Although it may seem weird that the variable intially starts with a value of 0-1 = -1, this negative index is resolved by the return statement, which always returns an index that’s one higher than pivot_pos. This serves to ensure that the lowest pivot index would be 0, which is the smallest element in any given partition.</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">pivot</span> <span class="o">=</span> <span class="n">arr</span><span class="p">[</span><span class="n">hi</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
<span class="n">pivot_pos</span> <span class="o">=</span> <span class="n">lo</span> <span class="o">-</span> <span class="mi">1</span>
</code></pre></div></div>
<p>The partition will then iterate over each element in the list from the starting and ending indexes indicated by the parameters. if a particular value is found to be larger than the pivot, the algorithm well then increment the recorded pivot position and swap the pivot with the found element.</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">lo</span><span class="p">,</span> <span class="n">hi</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">arr</span><span class="p">[</span><span class="n">idx</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">pivot</span><span class="p">:</span>
        <span class="n">pivot_pos</span><span class="o">+=</span><span class="mi">1</span>
        <span class="n">arr</span><span class="p">[</span><span class="n">pivot_pos</span><span class="p">],</span> <span class="n">arr</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="o">=</span> <span class="n">arr</span><span class="p">[</span><span class="n">idx</span><span class="p">],</span> <span class="n">arr</span><span class="p">[</span><span class="n">pivot_pos</span><span class="p">]</span>
</code></pre></div></div>
<p>Finally, the partition procedure swaps the element at the <code class="language-plaintext highlighter-rouge">pivot_pos+1</code> index with our pivot element at the <code class="language-plaintext highlighter-rouge">hi</code> index to place the pivot at it’s rightful place. We know that <code class="language-plaintext highlighter-rouge">pivot_pos+1</code> must be smaller than <code class="language-plaintext highlighter-rouge">hi</code> because it did not trigger the conditional to increment the <code class="language-plaintext highlighter-rouge">pivot_pos+1</code>` index. At last, the pivot_pos is incremented and returned to serve as an indicator of where our two partitions split.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">arr</span><span class="p">[</span><span class="n">pivot_pos</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">arr</span><span class="p">[</span><span class="n">hi</span><span class="p">]</span> <span class="o">=</span> <span class="n">arr</span><span class="p">[</span><span class="n">hi</span><span class="p">],</span> <span class="n">arr</span><span class="p">[</span><span class="n">pivot_pos</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span>
<span class="k">return</span> <span class="n">pivot_pos</span><span class="o">+</span><span class="mi">1</span>
</code></pre></div></div>

<h4 id="qsort-procedure">
<a class="anchor" href="#qsort-procedure" aria-hidden="true"><span class="octicon octicon-link"></span></a>qSort procedure</h4>
<p>If the parition procedure splits our list into smaller and larger regions, then our qSort procedure ensures that these regions are in order. It’s hard to explain, but the procedure iterates over each paritition, repeating the paritition process, setting new pivot values, and correctly places the pivot values at their correct sorted order.</p>

<p>The procedure first checks if the lower index is smaller than the higher index, to ensure that our parition has a length greater than 1. If this check passes, the procedure then calls the <code class="language-plaintext highlighter-rouge">partition</code> procedure to both split our list into the two distinct regions and also the index of our correctly placed pivot value. The procedure then invokes itself again on the larger interval (replacing hi to be the partition index-1 since the previous pivot is already sorted), and also on the smaller interval (replacing lo to be partition index+1).</p>

<p>Eventually, the qSort procedure will iterate through all elements in the list while parition places each element at the correct position, giving us the final sorted list.</p>

<h4 id="complexity-analysis">
<a class="anchor" href="#complexity-analysis" aria-hidden="true"><span class="octicon octicon-link"></span></a>Complexity analysis</h4>
<p>To analyze time complexity, we must analyze the partition and qSort procedures.</p>

<p>For the qSort procedure, because we divide the array into 2 halves during each function call, our number of function calls scales proportionally to log(n), where n is the length of the input array. However, within each function call, we also call the partition procedure, which contains an for-loop that iterates over each element in the partioned array, comparing it to a pivot value. We are well familiar with since loops, and can safely say that runtime scales proportionally to the length of the partition array. Due to this, we can conclude that our iteration time complexity scales linearly. Thus for each iterative process, our timerun scales proportionally to n.</p>

<p>Finally, we could multiply our two complexities together to get a representation of our overall complexity. Thus, the asymptotic notation for a time complexity could be represented as O(nlog(n)), where n is the length of the input array. Keep in mind, Big-O notation is not a function that returns the accurate runtime for any given input, but rather only gives us a model to see how runtime scales with increasing input sizes.</p>

<p>Space complexity for this program is much easier to analyze. Because the array is sorted in-place (meaning we don’t create other placeholders or copies), we require no additional space to sort this array. However, recursive function calls may require extra storage on the call stack. Since we found the number of recursive calls to be asymptotic to O(log(n)), we can conclude that quickSort has an <strong>O(1)</strong> space complexity for an iterative method, and an <strong>O(logn)</strong> space complexity for a recursive method.</p>

<h3 id="popcorn-hack-1">
<a class="anchor" href="#popcorn-hack-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Popcorn Hack</h3>

<p>Please answer our EQ for this section: <strong>What is the quicksort algorithm, and how does it work? How does it’s time and space complexities scale with input sizes?</strong></p>

<ul>
  <li>Quicksort is an algorithm that works by essentially finding the absolute position of each number by randomly assigning a number to be a pivot and moving all of the numbers lesser than or greater than it to before or after it. It scales proportional to nlog(n), because it iterates through the entire list for a number of times equal to the length of the list, and that iteration is run proportional to the log(n) of the list because the lists are being split in half. 
<!-- #endregion -->
</li>
</ul>

<h2 id="hacks---frontend-and-backend">
<a class="anchor" href="#hacks---frontend-and-backend" aria-hidden="true"><span class="octicon octicon-link"></span></a>Hacks - Frontend and Backend</h2>

<p>Please clone these two repositories:</p>
<ul>
  <li><a href="https://github.com/DavidVasilev1/hacks-FE">Frontend</a></li>
  <li><a href="https://github.com/DavidVasilev1/hacks-BE">Backend</a></li>
</ul>

<p>Directions:</p>

<p>You will be creating a full stack of a text and image database which you will code in the Flask Backend and pull information to sort in the Frontend.</p>

<p>You need to have coded a fully working CRUD in the Flask, which you can show working with Postman, however you only need to show the Frontend reading and displaying data from the backend.</p>

<p>You may use the code we showed to you today in class in order to code the both the Frontend and Backend.</p>

<p>Follow the directions in the comments in the Flask Backend and the ReadMe in the frontend before starting.</p>

<h2 id="hacks---quicksort">
<a class="anchor" href="#hacks---quicksort" aria-hidden="true"><span class="octicon octicon-link"></span></a>Hacks - QuickSort</h2>

<p>On this notebook, try recreating the original quicksort algorithm from our modified version. For an additional challenge, try abstracting the partitioning process through list comprehension!</p>

<p>After creating a successful algorithm, either create a diagram showing how the algorithm works, or a diagram that illustrates the time and/or space complexity of a recursive approach.</p>

<h2 id="hacks-helpers">
<a class="anchor" href="#hacks-helpers" aria-hidden="true"><span class="octicon octicon-link"></span></a>Hacks Helpers</h2>

<p>If you need help with your hacks, you can check out our project repos to see how we did it.</p>

<ul>
  <li><a href="https://github.com/DavidVasilev1/Nighthawk-guessr/blob/gh-pages/leaderboard.html">Frontend Table</a></li>
  <li><a href="https://github.com/DavidVasilev1/Nighthawk-guessr/blob/gh-pages/game.html">Frontend Image</a></li>
  <li><a href="https://github.com/DavidVasilev1/flask3/tree/master/nighthawkguessr_api">Backend</a></li>
</ul>

<p>You can also message us on the coding Slack channel for additional help.</p>

<h2 id="points">
<a class="anchor" href="#points" aria-hidden="true"><span class="octicon octicon-link"></span></a>Points</h2>

<ul>
  <li>Popcorn Hacks - 0.1 pts</li>
  <li>Full Stack - 0.4+
    <ul>
      <li>0.05 extra for styling html page</li>
    </ul>
  </li>
  <li>QuickSort Hacks - 0.4+
    <ul>
      <li>0.05 extra for implementing quicksort</li>
    </ul>
  </li>
</ul>

<h1 id="hacks-are-due-saturday-429-1159-pm">
<a class="anchor" href="#hacks-are-due-saturday-429-1159-pm" aria-hidden="true"><span class="octicon octicon-link"></span></a>HACKS ARE DUE SATURDAY (4/29) 11:59 PM</h1>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">random</span>

<span class="nx">def</span> <span class="nx">quickSort</span><span class="p">(</span><span class="nx">list</span><span class="p">):</span>
    <span class="nx">length</span> <span class="o">=</span> <span class="nx">len</span><span class="p">(</span><span class="nx">list</span><span class="p">)</span>
    <span class="k">if</span> <span class="nx">length</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="nx">list</span>
    <span class="nx">pivot</span> <span class="o">=</span> <span class="nx">list</span><span class="p">.</span><span class="nx">pop</span><span class="p">()</span>

    <span class="nx">greater</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="nx">lower</span> <span class="o">=</span> <span class="p">[]</span>
    
    <span class="k">for</span> <span class="nx">i</span> <span class="k">in</span> <span class="nx">list</span><span class="p">:</span>
        <span class="k">if</span> <span class="nx">i</span> <span class="o">&gt;=</span> <span class="nx">pivot</span><span class="p">:</span>
            <span class="nx">greater</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span>
        <span class="nx">elif</span> <span class="nx">i</span> <span class="o">&lt;=</span> <span class="nx">pivot</span><span class="p">:</span>
            <span class="nx">lower</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span>

    <span class="k">return</span> <span class="nx">quickSort</span><span class="p">(</span><span class="nx">lower</span><span class="p">)</span> <span class="o">+</span> <span class="p">[</span><span class="nx">pivot</span><span class="p">]</span> <span class="o">+</span> <span class="nx">quickSort</span><span class="p">(</span><span class="nx">greater</span><span class="p">)</span>

<span class="nx">list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">10</span><span class="p">]</span>
<span class="nx">random</span><span class="p">.</span><span class="nx">shuffle</span><span class="p">(</span><span class="nx">list</span><span class="p">)</span>

<span class="nx">print</span><span class="p">(</span><span class="nx">list</span><span class="p">)</span>

<span class="nx">print</span><span class="p">(</span><span class="nx">quickSort</span><span class="p">(</span><span class="nx">list</span><span class="p">))</span>
</code></pre></div></div>

  </div><a class="u-url" href="/CSPFastpages/2023/04/27/P3M-Fullstackin.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/CSPFastpages/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="https://toby-leeder.github.io/CSPFastpages/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/CSPFastpages/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p>An easy to use blogging platform with support for Jupyter Notebooks.</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"></ul>
</div>

  </div>

</footer>
</body>

</html>
